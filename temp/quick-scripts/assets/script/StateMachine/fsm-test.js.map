{"version":3,"sources":["fsm-test.ts"],"names":[],"mappings":";;;;;AAAA,8CAAgD;AAC1C,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAAsC,4BAAY;IAAlD;;IAiDA,CAAC;IA/CG,yBAAM,GAAN;QACI,IAAI,GAAG,GAAG,IAAI,YAAY,CAAC;YACvB,IAAI,EAAE,KAAK;YACX,WAAW,EAAE;gBACT,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE,QAAQ,EAAE;gBAC7C,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE;gBAC/C,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE;gBAC/C,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE;aAClD;YACD,OAAO,EAAE;gBACL,MAAM,EAAE;oBACJ,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,kBAAkB,GAAG,GAAG,CAAC,KAAK,CAAC,CAAA;oBACtD,UAAU,CAAC;wBACP,GAAG,CAAC,QAAQ,EAAE,CAAC;oBACnB,CAAC,EAAE,CAAC,CAAC,CAAC;gBACV,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;gBACZ,QAAQ,EAAE;oBACN,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,kBAAkB,GAAG,GAAG,CAAC,KAAK,CAAC,CAAA;oBACtD,UAAU,CAAC;wBACP,GAAG,CAAC,IAAI,EAAE,CAAC;oBACf,CAAC,EAAE,CAAC,CAAC,CAAC;gBACV,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;gBACZ,UAAU,EAAE;oBACR,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,kBAAkB,GAAG,GAAG,CAAC,KAAK,CAAC,CAAA;oBACrD,UAAU,CAAC;wBACP,GAAG,CAAC,QAAQ,EAAE,CAAC;oBACnB,CAAC,EAAE,CAAC,CAAC,CAAC;gBACV,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;gBACZ,UAAU,EAAE;oBACR,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,kBAAkB,GAAG,GAAG,CAAC,KAAK,CAAC,CAAA;oBACpD,UAAU,CAAC;wBACP,GAAG,CAAC,MAAM,EAAE,CAAC;oBACjB,CAAC,EAAE,CAAC,CAAC,CAAC;gBACV,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;aACf;SACJ,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;QACrC,GAAG,CAAC,QAAQ,EAAE,CAAC;IAGnB,CAAC;IAED,wBAAK,GAAL;IAEA,CAAC;IA9CgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAiD5B;IAAD,eAAC;CAjDD,AAiDC,CAjDqC,EAAE,CAAC,SAAS,GAiDjD;kBAjDoB,QAAQ","file":"","sourceRoot":"../../../../../assets/script/StateMachine","sourcesContent":["import StateMachine = require(\"./state-machine\")\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    onLoad() {\n        let fsm = new StateMachine({\n            init: 'gas',\n            transitions: [\n                { name: 'melt', from: 'solid', to: 'liquid' },\n                { name: 'freeze', from: 'liquid', to: 'solid' },\n                { name: 'vaporize', from: 'liquid', to: 'gas' },\n                { name: 'condense', from: 'gas', to: 'liquid' }\n            ],\n            methods: {\n                onMelt: function () {\n                    console.log('11111 ' + '  current state ' + fsm.state)\n                    setTimeout(() => {\n                        fsm.vaporize();\n                    }, 1);\n                }.bind(this),\n                onFreeze: function () {\n                    console.log('22222 ' + '  current state ' + fsm.state)\n                    setTimeout(() => {\n                        fsm.melt();\n                    }, 1);\n                }.bind(this),\n                onVaporize: function () {\n                    console.log('3333 ' + '  current state ' + fsm.state)\n                    setTimeout(() => {\n                        fsm.condense();\n                    }, 1);\n                }.bind(this),\n                onCondense: function () {\n                    console.log('4444' + '  current state ' + fsm.state)\n                    setTimeout(() => {\n                        fsm.freeze();\n                    }, 1);\n                }.bind(this)\n            }\n        });\n        console.log(\"==========\", fsm.state);\n        fsm.condense();\n\n\n    }\n\n    start() {\n\n    }\n\n    // update (dt) {}\n}\n"]}