{"version":3,"sources":["EraserEffect.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/script/shader","sourcesContent":["\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    shaderReader: any;\n    uMap = {\n        pos: {\n            type: \"vec2\",\n            value: { x: 0.0, y: 0.0 },\n        }\n    };\n    onLoad() {\n        console.log(\"========onLoad========\");\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touchStart, this);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\n\n        this.shaderReader = this.node.getComponent(\"ShaderReaderCom\");\n        this.shaderReader.initCustomUniform(this.uMap);\n        this.shaderReader.startShader();\n    }\n    onDestroy() {\n        this.node.off(cc.Node.EventType.TOUCH_START, this.touchStart, this);\n        this.node.off(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);\n        this.node.off(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\n    }\n    start() {\n\n    }\n\n    // update (dt) {}\n    touchStart(event: cc.Event.EventTouch) {\n        console.log(\"111\");\n        console.log(event);\n\n    }\n\n    touchMove(event: cc.Event.EventTouch) {\n        let touchPos = this.node.convertToNodeSpaceAR(event.getLocation());\n        var x = (touchPos.x + this.node.width / 2) / this.node.width;\n        this.uMap.pos.value.x = (touchPos.x + this.node.width / 2) / this.node.width;\n        this.uMap.pos.value.y = (touchPos.y + this.node.height / 2) / this.node.height;\n        this.shaderReader.updateCustomUniform(this.uMap);\n    }\n    touchEnd(event: cc.Event.EventTouch) {\n        console.log(\"333\");\n\n    }\n}\n"]}